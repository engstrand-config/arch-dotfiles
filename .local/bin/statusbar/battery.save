#!/bin/sh
# Give a battery name (e.g. BAT0) as an argument.

capacity=$(cat /sys/class/power_supply/"$1"/capacity) || exit
status=$(cat /sys/class/power_supply/"$1"/status)

color="#ffffff"

if [ "$capacity" -ge 90 ]; then
	label="ï‰€"
elif [ "$capacity" -ge 65 ]; then
	label="ï‰"
elif [ "$capacity" -ge 40 ]; then
	label="ï‰‚"
elif [ "$capacity" -ge 15 ]; then
	label="ï‰ƒ"
else
	label="ï‰„"
	color="$WAL_CRITICAL"
fi


if [ "$status" = "Charging" ]; then
	color="$WAL_SUCCESS"
	label="ïƒ§"
fi

if [ "$status" = "Full" ]; then
	color="$WAL_SUCCESS"
	label="ï‰€"
fi

printf "<span color='#ffffff'>%s <span color="%s">%s</span></span>ş" "$color" "$label" "$(echo "$capacity" | sed -e 's/$/%/')"
